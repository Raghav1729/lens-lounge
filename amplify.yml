version: 1
env:
  variables:
    ACCESS_KEY: process.env.AMPLIFY_ACCESS_KEY
    SECRET_ACCESS_KEY: process.env.AMPLIFY_SECRET_ACCESS_KEY
backend:
#  phases:
#    preBuild:
#      commands:
#        - yarn install
#    build:
#      commands:
#        - amplifyPush --simple
#    artifacts:
#      baseDirectory: public
#      files:#backend:
  phases:
    preBuild:
      commands:
        - yarn install
    build:
      commands:
        - amplifyPush --simple
    artifacts:
      baseDirectory: public
      files:
        - '**/*'
        - '**/*'
frontend:
  phases:
    preBuild:
      commands:
        - yarn install
    build:
      commands:
        - yarn run build
  artifacts:
    baseDirectory: dist
    files:
      - '**/*'
  cache:
    paths:
      - node_modules/**/*
#test:
#  phases:
#    preTest:
#      commands:
#        - *enter command*
#    test:
#      commands:
#        - *enter command*
#    postTest:
#      commands:
#        - *enter command*
#  artifacts:
#    files:
#      - location
#      - location
#    configFilePath: *location*
#    baseDirectory: *location*
